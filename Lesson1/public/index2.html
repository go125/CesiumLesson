<!DOCTYPE html>
<html lang="en">
<head>
<script src="https://cesium.com/downloads/cesiumjs/releases/1.82/Build/Cesium/Cesium.js"></script>
<link href="https://cesium.com/downloads/cesiumjs/releases/1.82/Build/Cesium/Widgets/widgets.css" rel="stylesheet">
<script type="text/javascript" src="apikey.js"></script>
<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
<!-- Bootstrap CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
</head>
<body>
  <form method="post">
    <p>質問名：
      <textarea name="name" id="name" value="" rows="1" cols="50"></textarea>
    </p>
    <p>質問：
      <textarea name="question" id="question" value="" rows="4" cols="50"></textarea>
    </p>
    <p>緯度：
      <input type="text" name="lat" id="lat" value="" />
    </p>
    <p>経度：
      <input type="text" name="lng" id="lng" value="" />
    </p>
    <button type="submit" class="btn btn-primary">質問</button>
    </form>
  <div id="cesiumContainer"></div>
  <script>
    // Get your token from https://cesium.com/ion/tokens
    const CESIUM_API_KEY = config.apikey;
    Cesium.Ion.defaultAccessToken = CESIUM_API_KEY;
    const viewer = new Cesium.Viewer('cesiumContainer');
    //建物モデルの追加
    var your_3d_tiles =viewer.scene.primitives.add(new Cesium.Cesium3DTileset({
      url : 'https://plateau.geospatial.jp/main/data/3d-tiles/bldg/13100_tokyo/13116_toshima-ku/low_resolution/tileset.json'
    }));
    //カメラのズーム
    viewer.flyTo(your_3d_tiles);
    //イベントリスナーの追加
    viewer.selectedEntityChanged.addEventListener(function(selectedEntity) {
      if (Cesium.defined(selectedEntity)) {
          if (Cesium.defined(selectedEntity.name)) {
            console.log('Selected ' + selectedEntity.name);
          } else {
            console.log('Unknown entity selected.');
          }
      } else {
        console.log('Deselected.');
      }
    });
  </script>
</body>
</html>
